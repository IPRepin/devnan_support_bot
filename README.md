# –ë–æ—Ç –¥–ª—è Telegram –∏ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ —Å —Ñ—É–Ω–∫—Ü–∏–µ–π —Ä–∞—Å–ø–æ–∑–Ω–æ–≤–∞–Ω–∏—è —Ä–µ—á–∏. #

![Static Badge](https://img.shields.io/badge/Python-3.11-blue)
![Static Badge](https://img.shields.io/badge/Aiogram-3.2.0-blue)
![Static Badge](https://img.shields.io/badge/python--dotenv-1.0-blue)
![Static Badge](https://img.shields.io/badge/urllib3-2.1-blue)
![Static Badge](https://img.shields.io/badge/google--cloud--dialogflow-2.26-blue)


## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ ##

–ë–æ—Ç –¥–ª—è Telegram –∏ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–∞—Å–ø–æ–∑–Ω–æ–≤–∞–Ω–∏—è —Ä–µ—á–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Å–µ—Ä–≤–∏—Å–∞ [DialogFlow](https://dialogflow.cloud.google.com/#/getStarted).
DialogFlow - —ç—Ç–æ –æ–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ –æ—Ç Google, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —è–∑—ã–∫–∏, –≤ —Ç–æ–º —á–∏—Å–ª–µ —Ä—É—Å—Å–∫–∏–π. –£ –Ω–µ–≥–æ –µ—Å—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ª–∏–º–∏—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤, –ø–æ—Ç–æ–º—É –µ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ —Å–≤–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã.
–î–∞–Ω–Ω—ã–π –±–æ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–µ—Ä–≤–∏—Å–∞ DialogFlow –º–æ–∂–Ω–æ –æ–±—É—á–∏—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—é –≤–æ–ª—å–Ω–æ–π —Ä–µ—á–∏. 
–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ –ø—Ä–æ DialogFlow –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å —Ç—É—Ç [DialogFlow](https://cloud.google.com/dialogflow/es/docs). –ë–æ—Ç –∏–º–µ–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é —Å–æ–∑–¥–∞–Ω–∏—è Intent —Å —Ç—Ä–µ–Ω–µ—Ä–æ–≤–∞—á–Ω—ã–º–∏ —Ñ—Ä–∞–∑–∞–º–∏ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è DialogFlow. 
–¢–∞–∫–∂–µ –ø—Ä–∏ –∏–º–µ–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö –≤ —Ç–µ–ª–µ–≥—Ä–∞–º.


## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é ##

* Python==3.11, 
* aiogram==3.2.0, 
* python-dotenv==1.0.0, 
* urllib3==2.1.0
* google-api-core==2.15.0 
* google-auth==2.25.2 
* google-cloud-api-keys==0.5.5 
* google-cloud-dialogflow==2.26.0

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ ##

üì¶devnan_support_bot
 * ‚î£ üìútg_bot.py _(–º–æ–¥—É–ª—å –∑–∞–ø—É—Å–∫–∞ —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞)_
 * ‚î£ üìúvk_bot.py _(–º–æ–¥—É–ª—å –∑–∞–ø—É—Å–∫–∞ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ –±–æ—Ç–∞)_
 * ‚î£ üìúrun.py _(–º–æ–¥—É–ª—å –ø–æ–ª—É—á–µ–Ω–∏—è API-—Ç–æ–∫–µ–Ω–∞ –æ—Ç DialogFlow)_
 * ‚î£ üìúdialogflow_answer.py _(–º–æ–¥—É–ª—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –±–æ—Ç–æ–≤ –∏ DialogFlow)_
 * ‚î£ üìúlearning_script.py _(–º–æ–¥—É–ª—å —Å–æ–∑–¥–∞–Ω–∏—è Intent –¥–ª—è DialogFlow)_
 * ‚î£ üìúlogs_hendler_telegram.py _(–º–æ–¥—É–ª—å –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–µ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º)_
 * ‚î£ üìú.gitignore
 * ‚îó üìúrequirements.txt

## –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ##

1. –°–æ–∑–¥–∞–µ–º –±–æ—Ç–∞ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º –ø—Ä–∏ –ø–æ–º–æ—â–∏ [BotFather](https://t.me/BotFather)
2. –î–ª—è –≤–∫–æ–Ω—Ç–∞–∫—Ç–µ —Å–æ–∑–¥–∞–µ–º –≥—Ä—É–ø–ø—É –≤–æ –≤–∫–ª–∞–¥–∫–µ [—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ](https://vk.com/groups?tab=admin)
   * –í –ù–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≥—Ä—É–ø–ø—ã –≤ –ø—É–Ω–∫—Ç–µ "–†–∞–±–æ—Ç–∞ —Å API" —Å–æ–∑–¥–∞–µ–º –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞
   
   ![screenshot_from_2019-04-29_20-10-16](https://github.com/IPRepin/devnan_support_bot/assets/76727704/4a9487c8-8723-4e9a-a3e9-bffb6067f827)

   * –í –ø—É–Ω–∫—Ç–µ –°–æ–æ–±—â–µ–Ω–∏—è --> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –±–æ—Ç–∞ –†–∞–∑—Ä–µ—à–∞–µ–º –±–æ—Ç—É –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π
   
   ![screenshot_from_2019-04-29_20-15-54](https://github.com/IPRepin/devnan_support_bot/assets/76727704/538055b5-77be-4ddc-8a5b-b3e3b4762bcf)

3. –°–∫–∞—á–∏–≤–∞–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –±–æ—Ç–æ–º –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∫–æ–º–∞–Ω–¥—ã: 
   * `git clone https://github.com/IPRepin/devnan_support_bot.git`
4. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑ —Ñ–∞–π–ª–∞ [requirements.txt](https://github.com/IPRepin/devnan_support_bot/blob/master/requirements.txt)
5. –í –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–¥–∞–µ–º —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º  `.env`
6. –ü–æ–º–µ—â–∞–µ–º –≤ –Ω–µ–≥–æ:
    * –¢–æ–∫–µ–Ω API –í–ö–æ–Ω—Ç–∞–∫—Ç–µ `VK_TOKEN='–í–∞—à_—Ç–æ–∫–µ–Ω_–í–ö–æ–Ω—Ç–∞–∫—Ç–µ'`
    * –¢–æ–∫–µ–Ω Telegram –¥–ª—è –±–æ—Ç–∞ `TELEGRAM_TOKEN='–í–∞—à_—Ç–µ–ª–µ–≥—Ä–∞–º–º_—Ç–æ–∫–µ–Ω'`
    * –¢–æ–∫–µ–Ω Telegram –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –æ –æ—à–∏–±–∫–∞—Ö `TELEGRAM_LOGS_TOKEN='–¢–µ–ª–µ–≥—Ä–∞–º–º_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞_—Å–æ–æ–±—â–µ–Ω–∏–π_–æ_–æ—à–∏–±–∫–∞—Ö'`
    * Chat id –¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ –æ—à–∏–±–∫–∞—Ö `TG_CHAT_ID='–í–∞—à_chat_id_–±–æ—Ç–∞_—Å–æ–æ–±—â–µ–Ω–∏–π_–æ_–æ—à–∏–±–∫–∞—Ö'`
    * –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ GoogleCloud `DIALOGFLOW_ID='ID_–ø—Ä–æ–µ–∫—Ç–∞_GoogleCloud'`
    * –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å –∫–ª—é—á–∞–º–∏ –æ—Ç –≤–∞—à–µ–≥–æ Google-–∞–∫–∫–∞—É–Ω—Ç–∞ `GOOGLE_APPLICATION_CREDENTIALS='–ø—É—Ç—å/–¥–æ/—Ñ–∞–π–ª–∞/application_default_credentials.json'`
    * –ü—É—Ç—å –∫ json —Ñ–∞–π–ª—É —Å –æ–±—É—á–∞—é—â–∏–º–∏ —Ñ—Ä–∞–∑–∞–º–∏ –¥–ª—è DialogFlow `LEARN_FILE_PATH='–ø—É—Ç—å/–¥–æ/—Ñ–∞–π–ª–∞/learning.json'`


## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DialogFlow ##
–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DialogFlow –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://cloud.google.com/dialogflow/es/docs/quick/setup).

## –û–±—É—á–µ–Ω–∏–µ DialogFlow ##
–ë–æ—Ç –∏–º–µ–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –æ–±—É—á–µ–Ω–∏—è DialogFlow –ø—Ä–∏ –ø–æ–º–æ—â–∏ –æ–±—É—á–∞—é—â–∏—Ö —Ñ—Ä–∞–∑.
–ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ json —Å –æ–±—É—á–∞—é—â–∏–º–∏ —Ñ—Ä–∞–∑–∞–º–∏ [learning.json](https://github.com/IPRepin/devnan_support_bot/blob/master/learning.json)
–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Intent —Å —Ç—Ä–µ–Ω–µ—Ä–æ–≤–∞—á–Ω—ã–º–∏ —Ñ—Ä–∞–∑–∞–º–∏ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è DialogFlow –∑–∞–ø—É—Å–∫–∞–µ–º:
`python learning_script.py`

–ü–æ—Ä–æ–±–Ω–µ–µ —É–∑–Ω–∞—Ç—å –ø—Ä–æ —Å–æ–∑–¥–∞–Ω–∏–µ Intent DialogFlow –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](https://cloud.google.com/dialogflow/es/docs/how/manage-intents#create-intent-python).

## –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –¢–µ–ª–µ–≥—Ä–∞–º ##
`python tg_bot.py`

## –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞ ##
–†–∞–±–æ—Ç–∞—é—â–µ–≥–æ —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å [—Ç—É—Ç](https://t.me/devman_sup_bot)

![demo_tg_bot](https://github.com/IPRepin/devnan_support_bot/assets/76727704/c96a9cc0-3777-46f8-97c5-709d70971bb8)

## –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ ##
`python vk_bot.py`

## –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –í–ö–æ–Ω—Ç–∞–∫—Ç–µ –±–æ—Ç–∞ ##
–†–∞–±–æ—Ç–∞—é—â–µ–≥–æ –±–æ—Ç–∞ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å [—Ç—É—Ç](https://vk.com/club223806485)

![demo_vk_bot](https://github.com/IPRepin/devnan_support_bot/assets/76727704/911e91d9-1bde-46aa-b766-68f95fc36442)


